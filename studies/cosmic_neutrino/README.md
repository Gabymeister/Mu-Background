# Cosmic neutrino study

## 1. Neutrino generation

Neutrinos are generated by GENIE neutrino generator.

```bash
run_number=1
exposure_seconds=31536000  # One year of exposure
# Geometry file obtained from Geant4 (GDML format) and then converted to ROOT format
geometry_file=/home/mathusla/repos/genie_data/geometry/world.box.root
# Download cross section file from GENIE
crosssection_file=/home/mathusla/repos/genie_data/genie_xsec/v3_04_00/NULL/G1802a00000-k250-e1000/data/gxspl-NUsmall.xml
# Download FLUKA cosmic neutrino flux table
FLUKA=/project/6049244/data/MATHUSLA/bin/genie_data/flux_table_fluka

# Run GENIE generator
gevgen_atmo -f FLUKA:$FLUKA/ok_nue02.dat[12],$FLUKA/ok_numu02.dat[14],$FLUKA/ok_anue02.dat[-12],$FLUKA/ok_anumu02.dat[-14] \
    -g $geometry_file \
    -T $exposure_seconds \
    -r $run_number \
    --seed $run_number \
    -E 0.1,50  \
    -R X:0.0,3.14159265,0.0 \
    --flux-ray-generation-surface-distance 35 \
    --flux-ray-generation-surface-radius 35  \
    --cross-sections $crosssection_file \
    --message-thresholds $GENIE/config/Messenger_laconic.xml \
    > run_$run_number.log
    
# Run GENIE data format converter. Convert to a readable root format that does not rely on GENIE libraries
gntpc  -f rootracker -i gntp.$run_number.ghep.root 
  
```
